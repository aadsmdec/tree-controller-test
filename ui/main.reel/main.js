var Component=require("montage/ui/component").Component,TreeController=require("montage/core/tree-controller").TreeController,NewTreeController=require("tree-controller").TreeController;exports.Main=Component.specialize({constructor:{value:function(){this.super()}},createDataTreeNode:{value:function(e){var t,n=e[0]||0,i=Array(n);if(n){t=e.slice(1);for(var o=0;n>o;o++)i[o]=this.createDataTreeNode(t)}return{name:this.generateName(),children:i}}},generateName:{value:function(){for(var e="",t=0;5>t;t++)e+=String.fromCharCode(25*Math.random()+97);return e}},runTest:{value:function(e,t){console.log("runTest",e);var n,i,o,r=this.createDataTreeNode(e);o=this.templateObjects.useNewController.checked?NewTreeController:TreeController,n=window.performance.now(),this.templateObjects.addToController.checked?this._addToController(this.templateObjects.tree.treeController,r,JSON.parse(this.templateObjects.referenceNode.value)):this.templateObjects.removeFromController.checked?this._removeFromController(this.templateObjects.tree.treeController,JSON.parse(this.templateObjects.referenceNode.value)):(treeController=new o(r,"children",t),i=window.performance.now(),this.templateObjects.time.value=Math.round(100*(i-n))/100,n=i,this.templateObjects.tree.treeController=treeController),i=window.performance.now(),console.log("tree.treeController",i-n)}},_addToController:{value:function(e,t,n){for(var i=e.content,o=i;n.length>1;){var r=n.shift();o=o.children[r]}console.log("parentNode: ",o),o.children.splice(n[0],0,t)}},_removeFromController:{value:function(e,t){for(var n=e.content,i=n;t.length>1;){var o=t.shift();i=i.children[o]}console.log("parentNode: ",i),i.children.splice(t[0],1)}},handleCreateTreeButtonAction:{value:function(e){this.runTest(JSON.parse(e.detail.get("treeShape")),this.templateObjects.initiallyExpanded.checked)}}});